<!DOCTYPE html>
<html>
<head>
	<title><%= title %></title>
	<link rel='stylesheet' href='/stylesheets/style.css' />
	
</head>
<body>
	<%- include('menu', {active: "createrecipe"}); %>

	<div class="main">
		<h1><%= title %></h1>
		<p></p>
	</div>

	<div class="createRecipe-form">
		<form name="createR" method="post" action="/createrecipe">

			<p>Recipe title: </p>
			<input id="inputtitle" type="text" name="title" placeholder="Recipe title" required> 

			<p>Category: </p>

			<select name="listcategory" required>

				<!-- Get category data from database and add it to options  -->

				<%categories.forEach(function (cat) { %>
				<option value=<%=cat.category_name%>><%=cat.category_name%></option>
				<% });%>

			</select>

			<p>Yield:</p> 
			<input id="inputyield" type="text" name="yield" placeholder="Yield" required>

			
			<p>Ingredients:</p> <br>

			<div id="addNewIngredients" name="addingr" >

				<div id="1">
					<input class="inputingredient" type="text" name="ingredient" placeholder="Ingredient" required>

					&nbsp Quantity: &nbsp
					<input class="inputquantity" type="text" name="quantity" placeholder="Quantity" required>

					&nbsp Unit: &nbsp
					<select class="listunit" name="listunit" required>

						<!-- Get ingredient_unit data from database and add it to options  -->

						<%units.forEach(function (unit) { %>
						<option value=<%=unit.unit_code%>><%=unit.unit_code%></option>
						<% });%>

					</select>
				</div>
			</div>

			<input type="button" id="addnewfield" value="Add another ingredient" onClick="addIngrFields();">
			<br>

			<p>Directions:</p> 
			<textarea rows="20" cols="54" id="inputdirections" type="text" name="directions" placeholder="Directions" required> </textarea>

			<button id="btnCreate" type="submit">Create Recipe</button>
		</form>
	</div>

	<!-- Template for adding ingredients -->

	<div id="addIngrTemplate" name="addingr1" style="display: none">

		<input class="inputingredient" type="text" name="ingredient"  placeholder="Ingredient" required>

		&nbsp Quantity: &nbsp
		<input class="inputquantity" type="text" name="quantity" placeholder="Quantity" required>

		&nbsp Unit: &nbsp
		<select class="listunit" name="listunit" required>

			<!-- Get ingredient_unit data from database and add it to options  -->

			<%units.forEach(function (unit) { %>
			<option value=<%=unit.unit_code%>><%=unit.unit_code%></option>
			<% });%>

		</select>

		&nbsp

	</div>

	<script src="/javascripts/createR.js" type="text/javascript"> </script>

</body>
</html>
